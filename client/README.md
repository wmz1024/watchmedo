# Watch Me Do - è¿œç¨‹ç›‘æ§æ¥æ”¶ç«¯

è¿™æ˜¯ Watch Me Do åº”ç”¨çš„è¿œç¨‹ç›‘æ§æ¥æ”¶ç«¯ï¼ŒåŸºäº PHP å¼€å‘ï¼Œç”¨äºæ¥æ”¶ã€å­˜å‚¨å’Œå±•ç¤ºæ¥è‡ªå®¢æˆ·ç«¯çš„ç›‘æ§æ•°æ®ã€‚

## åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½
- âœ… æ¥æ”¶å®¢æˆ·ç«¯æ¨é€çš„ç³»ç»Ÿç›‘æ§æ•°æ®
- âœ… æ”¯æŒå¤šè®¾å¤‡ç®¡ç†ï¼Œæ¯ä¸ªè®¾å¤‡ç‹¬ç«‹Tokené‰´æƒ
- âœ… è‡ªåŠ¨æ£€æµ‹è®¾å¤‡åœ¨çº¿çŠ¶æ€
- âœ… æ•°æ®å¯è§†åŒ–å±•ç¤ºï¼ˆEChartså›¾è¡¨ï¼‰
- âœ… å†å²æ•°æ®æŸ¥è¯¢å’Œåˆ†æ
- âœ… AIæ™ºèƒ½åˆ†æï¼ˆæ”¯æŒOpenAI APIæ ‡å‡†ï¼‰

### æ•°æ®å±•ç¤º
- ğŸ“Š åº”ç”¨ä½¿ç”¨æ—¶é—´é¥¼å›¾
- ğŸ“ˆ 24å°æ—¶ä½¿ç”¨æ—¶é—´æŸ±çŠ¶å›¾
- ğŸ” æœ€å¸¸ç”¨åº”ç”¨æ’è¡Œ
- â° æœ€å¸¸ç”¨æ—¶é—´æ®µåˆ†æ
- ğŸ’» å®æ—¶ç³»ç»Ÿèµ„æºç›‘æ§ï¼ˆCPUã€å†…å­˜ã€ç£ç›˜ã€ç½‘ç»œï¼‰
- ğŸ“± è¿›ç¨‹è¯¦ç»†ä¿¡æ¯ï¼ˆCPUå’Œå†…å­˜ä½¿ç”¨ç‡ï¼‰

### ç®¡ç†åŠŸèƒ½
- ğŸ” ç®¡ç†åå°å¯†ç ä¿æŠ¤
- ğŸ”§ è®¾å¤‡ç®¡ç†ï¼ˆæ·»åŠ ã€åˆ é™¤ã€Tokenç®¡ç†ï¼‰
- âš™ï¸ ç³»ç»Ÿè®¾ç½®ï¼ˆæ•°æ®åº“é…ç½®ã€åœ¨çº¿é˜ˆå€¼ï¼‰
- ğŸ¤– AIé…ç½®ï¼ˆæ¨¡å‹ã€APIåœ°å€ã€å¯†é’¥ï¼‰
- ğŸ§¹ æ•°æ®æ¸…ç†å’Œç»´æŠ¤

## ç³»ç»Ÿè¦æ±‚

### å¿…éœ€
- PHP >= 7.4
- PDOæ‰©å±•
- PDO SQLiteé©±åŠ¨ï¼ˆä½¿ç”¨SQLiteæ—¶ï¼‰
- PDO MySQLé©±åŠ¨ï¼ˆä½¿ç”¨MySQLæ—¶ï¼‰
- JSONæ‰©å±•
- cURLæ‰©å±•

### æ¨è
- Apacheæˆ–NginxæœåŠ¡å™¨
- PHP-FPMï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
- è‡³å°‘100MBç£ç›˜ç©ºé—´

## å®‰è£…æ­¥éª¤

### 1. ä¸Šä¼ æ–‡ä»¶

å°† `client` ç›®å½•ä¸Šä¼ åˆ°æ‚¨çš„WebæœåŠ¡å™¨ï¼š

```bash
# ä¸Šä¼ åˆ°æœåŠ¡å™¨æ ¹ç›®å½•
/var/www/html/watchmedo/

# æˆ–ä½¿ç”¨FTPä¸Šä¼ 
```

### 2. è®¾ç½®æƒé™

ç¡®ä¿ä»¥ä¸‹ç›®å½•å¯å†™ï¼š

```bash
chmod 755 client/
chmod 755 client/includes/
chmod 755 client/data/
```

### 3. è®¿é—®å®‰è£…å‘å¯¼

åœ¨æµè§ˆå™¨ä¸­è®¿é—®ï¼š

```
http://your-domain.com/watchmedo/install/setup.php
```

æŒ‰ç…§å‘å¯¼å®Œæˆå®‰è£…ï¼š

1. **ç¯å¢ƒæ£€æµ‹** - è‡ªåŠ¨æ£€æµ‹PHPç¯å¢ƒå’Œå¿…éœ€æ‰©å±•
2. **æ•°æ®åº“é…ç½®** - é€‰æ‹©SQLiteæˆ–MySQL
3. **ç®¡ç†å‘˜å¯†ç ** - è®¾ç½®ç®¡ç†åå°ç™»å½•å¯†ç 
4. **å®Œæˆå®‰è£…** - è‡ªåŠ¨åˆ›å»ºæ•°æ®åº“è¡¨å’Œé…ç½®æ–‡ä»¶

### 4. åˆ é™¤å®‰è£…ç›®å½•ï¼ˆé‡è¦ï¼ï¼‰

å®‰è£…å®Œæˆåï¼Œè¯·åˆ é™¤ `install` ç›®å½•ä»¥ç¡®ä¿å®‰å…¨ï¼š

```bash
rm -rf client/install/
```

## ä½¿ç”¨æŒ‡å—

### æ·»åŠ è®¾å¤‡

1. è®¿é—®ç®¡ç†åå°ï¼š`http://your-domain.com/watchmedo/admin/`
2. ä½¿ç”¨å®‰è£…æ—¶è®¾ç½®çš„å¯†ç ç™»å½•
3. ç‚¹å‡»"æ·»åŠ è®¾å¤‡"æŒ‰é’®
4. è¾“å…¥è®¾å¤‡åç§°ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ç”ŸæˆToken
5. å¤åˆ¶Tokenå¹¶é…ç½®åˆ°å®¢æˆ·ç«¯åº”ç”¨

### é…ç½®å®¢æˆ·ç«¯

åœ¨å®¢æˆ·ç«¯åº”ç”¨çš„è®¾ç½®é¡µé¢ï¼š

1. å¯ç”¨"è¿œç¨‹æ¨é€"
2. å¡«å†™è¿œç¨‹URLï¼š`http://your-domain.com/watchmedo/api/receive.php`
3. ç²˜è´´ä»ç®¡ç†åå°è·å–çš„Token
4. è®¾ç½®æ¨é€é—´éš”ï¼ˆå»ºè®®60ç§’ï¼‰
5. ä¿å­˜å¹¶å¯åŠ¨è¿œç¨‹æ¨é€

### æŸ¥çœ‹æ•°æ®

è®¿é—®å‰å°é¡µé¢ï¼š`http://your-domain.com/watchmedo/public/`

æ— éœ€ç™»å½•å³å¯æŸ¥çœ‹æ‰€æœ‰è®¾å¤‡çš„ç›‘æ§æ•°æ®ï¼š

- è®¾å¤‡åˆ—è¡¨å’Œåœ¨çº¿çŠ¶æ€
- ç‚¹å‡»è®¾å¤‡å¡ç‰‡æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯
- ä½¿ç”¨æ—¥æœŸé€‰æ‹©å™¨æŸ¥çœ‹å†å²æ•°æ®
- ç”ŸæˆAIåˆ†ææŠ¥å‘Šï¼ˆéœ€é…ç½®AIï¼‰

## APIæ–‡æ¡£

### æ¥æ”¶æ•°æ®ç«¯ç‚¹

**URL:** `/api/receive.php`  
**æ–¹æ³•:** POST  
**è®¤è¯:** Tokenï¼ˆHeader: `X-Device-Token` æˆ– POSTå‚æ•°ï¼‰

**è¯·æ±‚ç¤ºä¾‹:**

```json
{
  "computer_name": "MyComputer",
  "uptime": 3600,
  "cpu_usage": [25.5, 30.2, 15.8, 40.1],
  "memory_usage": {
    "total": 17179869184,
    "used": 8589934592,
    "percent": 50.0
  },
  "processes": [
    {
      "executable_name": "chrome.exe",
      "window_title": "Google Chrome",
      "cpu_usage": 15.5,
      "memory": 524288000,
      "is_focused": true,
      "pid": 12345
    }
  ],
  "disks": [...],
  "network": [...]
}
```

**å“åº”ç¤ºä¾‹:**

```json
{
  "success": true,
  "message": "æ•°æ®æ¥æ”¶æˆåŠŸ",
  "data": {
    "device_id": 1,
    "timestamp": "2024-01-01 12:00:00"
  }
}
```

### å…¶ä»–APIç«¯ç‚¹

- `/api/devices.php` - è®¾å¤‡ç®¡ç†
- `/api/stats.php` - ç»Ÿè®¡æ•°æ®æŸ¥è¯¢
- `/api/ai.php` - AIåˆ†æ
- `/api/admin.php` - ç®¡ç†åå°æ“ä½œ

è¯¦ç»†APIæ–‡æ¡£è¯·å‚è€ƒå„æ–‡ä»¶çš„æ³¨é‡Šè¯´æ˜ã€‚

## é…ç½®è¯´æ˜

### æ•°æ®åº“é…ç½®

ç¼–è¾‘ `includes/config.php`ï¼š

```php
// SQLiteï¼ˆé»˜è®¤ï¼‰
define('DB_TYPE', 'sqlite');
define('SQLITE_DB_PATH', __DIR__ . '/../data/watchmedo.db');

// æˆ–ä½¿ç”¨MySQL
define('DB_TYPE', 'mysql');
define('MYSQL_HOST', 'localhost');
define('MYSQL_DATABASE', 'watchmedo');
define('MYSQL_USERNAME', 'root');
define('MYSQL_PASSWORD', 'your_password');
```

### åœ¨çº¿æ£€æµ‹é˜ˆå€¼

è®¾å¤‡è¶…è¿‡æ­¤æ—¶é—´æœªä¸ŠæŠ¥å°†è¢«æ ‡è®°ä¸ºç¦»çº¿ï¼š

```php
define('DEVICE_ONLINE_THRESHOLD', 300); // 300ç§’ = 5åˆ†é’Ÿ
```

### AIé…ç½®

å¯ç”¨AIåˆ†æåŠŸèƒ½ï¼š

```php
define('AI_ENABLED', true);
define('AI_API_URL', 'https://api.openai.com/v1/chat/completions');
define('AI_MODEL', 'gpt-3.5-turbo');
define('AI_API_KEY', 'your_api_key');
```

ä¹Ÿå¯ä»¥åœ¨ç®¡ç†åå°çš„"AIé…ç½®"é¡µé¢è¿›è¡Œè®¾ç½®ã€‚

## ç›®å½•ç»“æ„

```
client/
â”œâ”€â”€ api/                    # APIæ¥å£
â”‚   â”œâ”€â”€ receive.php        # æ•°æ®æ¥æ”¶ç«¯ç‚¹
â”‚   â”œâ”€â”€ devices.php        # è®¾å¤‡ç®¡ç†API
â”‚   â”œâ”€â”€ stats.php          # ç»Ÿè®¡æ•°æ®API
â”‚   â”œâ”€â”€ ai.php             # AIåˆ†æAPI
â”‚   â””â”€â”€ admin.php          # ç®¡ç†åå°API
â”œâ”€â”€ admin/                  # ç®¡ç†åå°
â”‚   â””â”€â”€ index.php          # ç®¡ç†ç•Œé¢
â”œâ”€â”€ public/                 # å…¬å¼€è®¿é—®å‰ç«¯
â”‚   â”œâ”€â”€ index.php          # è®¾å¤‡åˆ—è¡¨é¡µ
â”‚   â”œâ”€â”€ device.php         # è®¾å¤‡è¯¦æƒ…é¡µ
â”‚   â””â”€â”€ assets/            # é™æ€èµ„æº
â”œâ”€â”€ includes/               # æ ¸å¿ƒä»£ç 
â”‚   â”œâ”€â”€ config.php         # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ database.php       # æ•°æ®åº“ç±»
â”‚   â”œâ”€â”€ auth.php           # è®¤è¯ç±»
â”‚   â””â”€â”€ functions.php      # å·¥å…·å‡½æ•°
â”œâ”€â”€ data/                   # æ•°æ®ç›®å½•ï¼ˆSQLiteï¼‰
â”œâ”€â”€ install/                # å®‰è£…å‘å¯¼
â”‚   â””â”€â”€ setup.php
â””â”€â”€ README.md              # æœ¬æ–‡æ¡£
```

## æ•°æ®åº“è¡¨ç»“æ„

### devices - è®¾å¤‡è¡¨
- id, name, token, computer_name
- created_at, last_seen_at, is_online, online_threshold

### device_stats - è®¾å¤‡ç»Ÿè®¡
- id, device_id, timestamp
- computer_name, uptime, cpu_usage_avg
- memory_total, memory_used, memory_percent

### process_records - è¿›ç¨‹è®°å½•
- id, device_id, timestamp
- executable_name, window_title
- cpu_usage, memory_usage, is_focused

### disk_stats - ç£ç›˜ç»Ÿè®¡
- id, device_id, timestamp
- name, mount_point, total_space, available_space

### network_stats - ç½‘ç»œç»Ÿè®¡
- id, device_id, timestamp
- interface_name, received, transmitted

### settings - ç³»ç»Ÿè®¾ç½®
- key, value

## ç»´æŠ¤å’Œä¼˜åŒ–

### æ•°æ®æ¸…ç†

åœ¨ç®¡ç†åå°çš„"ç»´æŠ¤"é¡µé¢å¯ä»¥æ¸…ç†æ—§æ•°æ®ï¼š

1. è®¾ç½®ä¿ç•™å¤©æ•°ï¼ˆä¾‹å¦‚30å¤©ï¼‰
2. ç‚¹å‡»"æ‰§è¡Œæ¸…ç†"
3. ç³»ç»Ÿä¼šåˆ é™¤æŒ‡å®šå¤©æ•°ä¹‹å‰çš„å†å²æ•°æ®

### æ€§èƒ½ä¼˜åŒ–

**å¯¹äºå¤§é‡æ•°æ®ï¼š**

1. å®šæœŸæ¸…ç†å†å²æ•°æ®
2. ä¸ºæ•°æ®åº“æ·»åŠ ç´¢å¼•ï¼ˆå·²è‡ªåŠ¨åˆ›å»ºï¼‰
3. ä½¿ç”¨MySQLè€Œä¸æ˜¯SQLite
4. å¯ç”¨PHP OPcache
5. ä½¿ç”¨CDNåŠ è½½é™æ€èµ„æº

**æ¨é€é—´éš”å»ºè®®ï¼š**

- æµ‹è¯•ç¯å¢ƒï¼š30-60ç§’
- ç”Ÿäº§ç¯å¢ƒï¼š60-300ç§’
- ä½é…æœåŠ¡å™¨ï¼š300-600ç§’

## å®‰å…¨å»ºè®®

1. **æ›´æ”¹ç®¡ç†å‘˜å¯†ç **  
   å®‰è£…åç«‹å³åœ¨ç®¡ç†åå°æ›´æ”¹å¯†ç 

2. **ä¿æŠ¤Token**  
   ä¸è¦å°†è®¾å¤‡Tokenæ³„éœ²ç»™ä»–äºº

3. **HTTPS**  
   ç”Ÿäº§ç¯å¢ƒå»ºè®®ä½¿ç”¨HTTPSåŠ å¯†ä¼ è¾“

4. **é™åˆ¶è®¿é—®**  
   å¯é€šè¿‡ .htaccess é™åˆ¶ç®¡ç†åå°IPè®¿é—®

5. **å®šæœŸå¤‡ä»½**  
   å®šæœŸå¤‡ä»½æ•°æ®åº“å’Œé…ç½®æ–‡ä»¶

## æ•…éšœæ’é™¤

### æ— æ³•æ¥æ”¶æ•°æ®

1. æ£€æŸ¥Tokenæ˜¯å¦æ­£ç¡®
2. æ£€æŸ¥URLæ˜¯å¦å¯è®¿é—®
3. æŸ¥çœ‹PHPé”™è¯¯æ—¥å¿—
4. ç¡®è®¤æ•°æ®åº“è¿æ¥æ­£å¸¸

### è®¾å¤‡æ˜¾ç¤ºç¦»çº¿

1. æ£€æŸ¥å®¢æˆ·ç«¯æ˜¯å¦æ­£å¸¸æ¨é€
2. è°ƒæ•´åœ¨çº¿æ£€æµ‹é˜ˆå€¼
3. ç¡®è®¤æ—¶åŒºè®¾ç½®æ­£ç¡®

### AIåŠŸèƒ½ä¸å·¥ä½œ

1. ç¡®è®¤AIå·²å¯ç”¨
2. æ£€æŸ¥APIå¯†é’¥æ˜¯å¦æ­£ç¡®
3. ç¡®è®¤ç½‘ç»œå¯è®¿é—®APIåœ°å€
4. æŸ¥çœ‹é”™è¯¯æ—¥å¿—

### æ€§èƒ½é—®é¢˜

1. æ¸…ç†æ—§æ•°æ®
2. ä¼˜åŒ–æ•°æ®åº“ï¼ˆMySQLï¼‰
3. å¢åŠ æ¨é€é—´éš”
4. å‡çº§æœåŠ¡å™¨é…ç½®

## æŠ€æœ¯æ ˆ

- **åç«¯:** PHP 7.4+
- **æ•°æ®åº“:** SQLite 3 / MySQL 5.7+
- **å‰ç«¯:** HTML5, TailwindCSS, JavaScript
- **å›¾è¡¨:** ECharts 5.4
- **AI:** OpenAI APIæ ‡å‡†

## è®¸å¯è¯

æœ¬é¡¹ç›®éµå¾ª MIT è®¸å¯è¯ã€‚

## æ”¯æŒ

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·è”ç³»å¼€å‘è€…æˆ–æäº¤Issueã€‚

## æ›´æ–°æ—¥å¿—

### v1.0.0 (2024-10-18)
- åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- å®Œæ•´çš„è®¾å¤‡ç›‘æ§åŠŸèƒ½
- æ•°æ®å¯è§†åŒ–å±•ç¤º
- AIæ™ºèƒ½åˆ†æ
- ç®¡ç†åå°

---

**æ„Ÿè°¢ä½¿ç”¨ Watch Me Doï¼** ğŸ‰

