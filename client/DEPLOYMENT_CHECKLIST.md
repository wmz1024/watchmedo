# 部署检查清单

使用此清单确保 Watch Me Do 远程监控系统正确部署。

## 📋 部署前检查

### 服务器环境
- [ ] PHP版本 >= 7.4
- [ ] PDO扩展已安装
- [ ] PDO SQLite驱动已安装（使用SQLite时）
- [ ] PDO MySQL驱动已安装（使用MySQL时）
- [ ] JSON扩展已安装
- [ ] cURL扩展已安装
- [ ] 文件上传权限正确

### 数据库准备（MySQL用户）
- [ ] 创建数据库
- [ ] 创建数据库用户
- [ ] 授予适当权限
- [ ] 测试连接

## 📦 文件上传

- [ ] 上传 `client` 目录到服务器
- [ ] 确认目录路径可访问
- [ ] 设置 `client/` 权限为 755
- [ ] 设置 `client/includes/` 权限为 755
- [ ] 创建 `client/data/` 目录（SQLite用户）
- [ ] 设置 `client/data/` 权限为 755

## 🔧 安装配置

- [ ] 访问安装向导 (`/install/setup.php`)
- [ ] 确认所有环境检测通过
- [ ] 选择数据库类型
- [ ] 填写数据库连接信息（MySQL用户）
- [ ] 设置管理员密码
- [ ] 完成安装
- [ ] **删除 `install` 目录**

## 🔐 安全配置

- [ ] 删除 `install` 目录
- [ ] 确认 `.htaccess` 文件生效
- [ ] 测试 `includes` 目录无法直接访问
- [ ] 更改默认管理员密码（如使用默认）
- [ ] 配置HTTPS（生产环境强烈推荐）
- [ ] 配置防火墙规则

## 🎯 功能测试

### 管理后台测试
- [ ] 访问 `/admin/`
- [ ] 使用密码登录
- [ ] 查看统计概览
- [ ] 添加测试设备
- [ ] 复制设备Token
- [ ] 测试设备删除功能
- [ ] 查看设置页面
- [ ] 测试登出功能

### API测试
- [ ] 运行测试脚本: `php test_push.php YOUR_TOKEN`
- [ ] 确认收到成功响应
- [ ] 在管理后台查看设备状态

### 前端测试
- [ ] 访问 `/public/`
- [ ] 确认设备列表显示
- [ ] 点击设备查看详情
- [ ] 确认图表正常加载
- [ ] 测试日期选择器
- [ ] 测试数据刷新

## 🔌 客户端配置

- [ ] 打开客户端应用
- [ ] 进入远程推送设置
- [ ] 填写服务器URL
- [ ] 粘贴设备Token
- [ ] 设置推送间隔
- [ ] 保存设置
- [ ] 启用自动推送
- [ ] 点击测试推送
- [ ] 确认测试成功

## ✅ 验证检查

### 数据流程验证
- [ ] 客户端显示推送成功
- [ ] 设备在管理后台显示为在线
- [ ] 前台页面显示设备在线
- [ ] 点击设备可查看详细数据
- [ ] 图表显示正常
- [ ] 应用列表有数据
- [ ] 实时数据在更新

### 性能检查
- [ ] 页面加载速度正常（< 3秒）
- [ ] 图表渲染流畅
- [ ] 数据刷新及时
- [ ] 无明显卡顿

### 错误检查
- [ ] 检查PHP错误日志
- [ ] 检查浏览器控制台
- [ ] 确认无JavaScript错误
- [ ] 确认无网络错误

## 🤖 AI配置（可选）

- [ ] 获取OpenAI API密钥
- [ ] 在管理后台配置AI
- [ ] 填写API地址
- [ ] 选择模型
- [ ] 输入API密钥
- [ ] 启用AI功能
- [ ] 测试生成分析报告
- [ ] 确认AI功能正常

## 📊 数据维护

- [ ] 设置数据清理计划
- [ ] 配置备份策略
- [ ] 测试数据清理功能
- [ ] 记录数据库大小

## 🔄 多设备配置（可选）

- [ ] 为每个设备创建独立Token
- [ ] 在每个设备上配置客户端
- [ ] 确认所有设备正常推送
- [ ] 验证设备列表显示正确

## 📝 文档准备

- [ ] 保存管理员密码
- [ ] 记录设备Token
- [ ] 保存数据库连接信息
- [ ] 记录服务器配置
- [ ] 准备用户使用文档

## 🚀 生产环境额外检查

- [ ] 启用HTTPS
- [ ] 配置SSL证书
- [ ] 设置APP_DEBUG为false
- [ ] 配置CDN（可选）
- [ ] 设置监控告警
- [ ] 配置日志轮转
- [ ] 性能压测
- [ ] 安全扫描

## 🎓 团队培训（企业用户）

- [ ] 培训管理员使用后台
- [ ] 指导用户配置客户端
- [ ] 说明数据查看方法
- [ ] 讲解常见问题处理

## 📞 支持准备

- [ ] 收集常见问题
- [ ] 准备故障排除指南
- [ ] 设置支持联系方式
- [ ] 建立反馈渠道

## ✅ 最终确认

- [ ] 所有功能正常运行
- [ ] 数据准确无误
- [ ] 性能满足要求
- [ ] 安全措施到位
- [ ] 文档齐全
- [ ] 备份策略完善
- [ ] 用户培训完成

## 📋 部署完成

恭喜！如果以上所有项目都已检查完成，您的 Watch Me Do 远程监控系统已成功部署！

**下一步:**
1. 开始使用系统
2. 定期检查运行状态
3. 根据需要调整配置
4. 收集用户反馈

## 🆘 遇到问题？

参考以下文档：
- README.md - 完整使用手册
- QUICKSTART.md - 快速开始指南
- 故障排除章节
- PHP错误日志
- 浏览器控制台

---

**部署检查完成日期**: _______________  
**部署人员**: _______________  
**备注**: _______________

