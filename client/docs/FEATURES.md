# Watch Me Do - 功能特性文档

## 项目概述

Watch Me Do 远程监控系统是一个完整的设备监控解决方案，包含客户端应用（Rust + Tauri）和服务器端（PHP + MySQL/SQLite），能够实时收集、分析和展示多设备的使用数据。

## 核心功能

### 1. 数据采集

客户端自动采集以下数据：

- ✅ **系统信息**
  - 计算机名称
  - 系统运行时间
  - CPU使用率（每个核心）
  - 内存使用情况（总量、已用、百分比）

- ✅ **进程监控**
  - 进程名称和窗口标题
  - CPU使用率
  - 内存占用
  - 焦点状态（当前活动窗口）
  - 进程ID

- ✅ **磁盘信息**
  - 磁盘名称和挂载点
  - 总容量和可用空间
  - 使用率

- ✅ **网络统计**
  - 网络接口名称
  - 接收和发送的数据量

### 2. 数据传输

- ✅ **远程推送**
  - 支持HTTPS加密传输
  - 自定义推送间隔（10-3600秒）
  - Token认证机制
  - 自动重试和错误处理

- ✅ **本地API**
  - HTTP服务器（可配置端口）
  - CORS支持
  - 实时数据查询
  - 自动启动选项

### 3. 服务器端

#### 数据接收
- ✅ **多设备支持**
  - 每个设备独立Token
  - 自动识别设备
  - 设备名称自定义

- ✅ **数据存储**
  - 支持SQLite和MySQL
  - 自动建表和索引
  - 批量插入优化
  - 外键约束

#### 设备管理
- ✅ **在线检测**
  - 自动检测设备在线状态
  - 可自定义在线阈值
  - 最后上报时间显示

- ✅ **设备操作**
  - 添加/删除设备
  - 查看设备Token
  - 重新生成Token
  - 设备信息编辑

### 4. 数据展示

#### 设备列表页面
- ✅ **设备概览**
  - 设备在线/离线状态
  - 实时CPU/内存使用率
  - 运行时间
  - 最后上报时间

- ✅ **自动刷新**
  - 30秒自动更新
  - 在线状态实时显示
  - 动画效果

#### 设备详情页面
- ✅ **基本信息**
  - 计算机名称
  - 运行时间
  - 在线状态
  - 最后上报时间

- ✅ **系统资源卡片**
  - CPU使用率
  - 内存使用率
  - 总使用时间
  - 活跃应用数

- ✅ **应用使用时间饼图**（ECharts）
  - Top 10应用
  - 使用时长和占比
  - 交互式图例
  - 悬停提示

- ✅ **24小时使用时间柱状图**（ECharts）
  - 每小时使用统计
  - 时间格式化
  - 动态数据更新

- ✅ **最常用时间段**
  - Top 5活跃时段
  - 使用时长排名
  - 可视化展示

- ✅ **应用详细列表**
  - 应用名称和窗口标题
  - 使用时长和百分比
  - 平均CPU/内存使用
  - 进度条可视化
  - 排名显示

- ✅ **历史数据查询**
  - 日期选择器
  - 任意日期数据查看
  - 数据对比分析

### 5. AI智能分析

- ✅ **使用习惯分析**
  - 主要应用类型识别
  - 工作习惯总结
  - 活跃时间段分析
  - 系统资源使用评估

- ✅ **改进建议**
  - 基于数据的个性化建议
  - 优化提示
  - 习惯改善方向

- ✅ **智能问答**
  - 关于使用数据的问题
  - 上下文理解
  - 自然语言交互

- ✅ **OpenAI API标准**
  - 支持所有兼容模型
  - 自定义API地址
  - 灵活配置

### 6. 管理后台

#### 身份验证
- ✅ **密码登录**
  - BCrypt密码加密
  - 会话管理
  - 自动登出

#### 统计概览
- ✅ **系统统计**
  - 设备总数
  - 在线设备数
  - 总记录数
  - 数据库大小

#### 设备管理
- ✅ **设备列表**
  - 表格展示
  - 在线状态标识
  - 最后上报时间
  - 操作按钮

- ✅ **设备操作**
  - 添加设备
  - 查看Token
  - 删除设备
  - 编辑信息

#### 系统设置
- ✅ **数据库配置**
  - 显示当前类型
  - SQLite/MySQL切换（需重装）

- ✅ **在线阈值**
  - 自定义检测时间
  - 实时生效

#### AI配置
- ✅ **启用/禁用**
  - 开关控制
  - 功能切换

- ✅ **API配置**
  - API地址设置
  - 模型选择
  - 密钥管理

#### 维护功能
- ✅ **数据清理**
  - 按天数清理
  - 确认对话框
  - 数据库优化（SQLite VACUUM）

### 7. 用户体验

#### 前端界面
- ✅ **响应式设计**
  - 移动端适配
  - 平板优化
  - 桌面完整体验

- ✅ **现代化UI**
  - TailwindCSS样式
  - 流畅动画
  - 卡片式布局
  - 美观的图表

- ✅ **交互优化**
  - 即时反馈
  - 加载状态
  - 错误提示
  - 操作确认

#### 客户端应用
- ✅ **系统托盘**
  - 后台运行
  - 快速访问
  - 最小化到托盘

- ✅ **开机自启**
  - 可选启用
  - 静默启动模式
  - 系统集成

- ✅ **实时监控**
  - Dashboard展示
  - 进程列表
  - 资源使用图表

### 8. 安全性

- ✅ **Token认证**
  - 每设备独立Token
  - HTTP Header传输
  - 服务器端验证

- ✅ **密码保护**
  - 管理后台登录
  - BCrypt加密
  - 会话管理

- ✅ **数据安全**
  - .htaccess保护
  - 配置文件隐藏
  - SQL注入防护（PDO预处理）

- ✅ **HTTPS支持**
  - 加密传输
  - 证书验证
  - 安全建议

### 9. 性能优化

- ✅ **数据库优化**
  - 索引优化
  - 批量插入
  - 查询优化
  - 外键约束

- ✅ **前端优化**
  - CDN加载
  - 图表懒加载
  - 自动刷新间隔
  - 按需加载数据

- ✅ **缓存机制**
  - 数据聚合缓存
  - 查询结果缓存

### 10. 部署和维护

#### 安装向导
- ✅ **环境检测**
  - PHP版本检查
  - 扩展检测
  - 权限验证

- ✅ **配置向导**
  - 数据库选择
  - 连接测试
  - 密码设置
  - 自动建表

#### 数据维护
- ✅ **数据清理**
  - 按时间清理
  - 数据库优化
  - 空间释放

- ✅ **备份建议**
  - 数据库备份指南
  - 配置文件备份
  - 恢复流程

#### 监控和日志
- ✅ **错误处理**
  - 详细错误信息
  - 日志记录
  - 调试模式

- ✅ **状态监控**
  - 设备在线状态
  - 推送成功率
  - 系统资源使用

## 技术特点

### 架构设计
- **前后端分离**：客户端（Rust/Tauri）+ 服务器（PHP）
- **RESTful API**：标准化接口设计
- **模块化开发**：功能独立、易于扩展

### 数据库设计
- **标准化表结构**：外键约束、索引优化
- **双数据库支持**：SQLite轻量级、MySQL高性能
- **数据聚合**：智能计算应用使用时长

### 代码质量
- **类型安全**：Rust强类型、TypeScript类型检查
- **错误处理**：完善的异常捕获和处理
- **代码注释**：详细的中文注释
- **最佳实践**：遵循各语言的最佳实践

## 使用场景

1. **个人使用**
   - 了解自己的电脑使用习惯
   - 分析时间分配
   - 提高工作效率

2. **家庭监控**
   - 家长监控孩子电脑使用
   - 多台设备统一管理
   - 远程查看使用情况

3. **企业管理**
   - 员工电脑使用统计
   - 工作效率分析
   - 设备资源监控

4. **研究分析**
   - 用户行为研究
   - 应用使用统计
   - 数据采集和分析

## 扩展性

系统设计考虑了未来扩展：

- 📦 模块化架构，易于添加新功能
- 🔌 标准API接口，方便第三方集成
- 📊 灵活的数据结构，支持新增数据类型
- 🤖 AI接口标准化，支持多种AI服务
- 🌐 国际化准备，易于添加多语言支持

## 文档完善度

- ✅ README.md - 安装和使用指南
- ✅ CLIENT_CONFIG.md - 客户端配置详解
- ✅ FEATURES.md - 功能特性文档（本文档）
- ✅ API输出格式说明.md - API文档
- ✅ 功能说明.md - 功能更新日志
- ✅ 代码注释 - 详细的中文注释

## 总结

Watch Me Do 是一个功能完整、设计精良的设备监控系统。它不仅提供了强大的数据采集和展示功能，还集成了AI智能分析，让用户能够深入了解设备使用情况。

无论是个人用户想要了解自己的电脑使用习惯，还是企业需要监控和管理多台设备，Watch Me Do 都能提供完善的解决方案。

系统采用现代化的技术栈，注重用户体验和数据安全，是一个值得信赖的监控解决方案。

